//>>built
require({cache:{"esri/dijit/TimeSlider":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/kernel dojo/has dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dijit/_Widget dijit/_Templated dijit/form/HorizontalSlider dijit/form/HorizontalRule dijit/form/HorizontalRuleLabels dojox/timing/_base dojox/form/RangeSlider dojo/text!dojox/form/resources/HorizontalRangeSlider.html ../kernel ../lang ../TimeExtent ./_EventedWidget dojo/text!./templates/TimeSlider.html dojo/i18n!../nls/jsapi".split(" "),
function(g,f,b,m,n,p,t,r,q,e,s,k,l,v,a,c,u,y,A,z,h,x,w){return g([h,e,s],{declaredClass:"esri.dijit.TimeSlider",widgetsInTemplate:!0,templateString:x,_slideDuration:1E3,_defaultCount:10,_eventMap:{"time-extent-change":!0,play:!0,pause:!0,next:!0,previous:!0},constructor:function(d,a){f.mixin(this,w.widgets.timeSlider);this._iconClass="tsButton tsPlayButton";this.loop=this.playing=!1;this.thumbCount=1;this.thumbMovingRate=1E3;this._createTimeInstants=!1;this._options=f.mixin({excludeDataAtTrailingThumb:!1,
excludeDataAtLeadingThumb:!1},d.options||{})},postCreate:function(){this.inherited(arguments);q.isBodyLtr()||(this.playPauseBtn.domNode.parentNode.align="left",this.previousBtn.domNode.parentNode.align="right",this.nextBtn.domNode.parentNode.align="right",p.add(this.playPauseBtn.iconNode,"tsFlipImage"),p.add(this.previousBtn.iconNode,"tsFlipImage"),p.add(this.nextBtn.iconNode,"tsFlipImage"))},startup:function(){this.inherited(arguments);this._timer=new a.Timer;this._timer.setInterval(this.thumbMovingRate);
this._timer.onTick=f.hitch(this,"_bumpSlider",1);this._createSlider()},destroy:function(){this._timer.stop();this.timeStops=this._timer=null;this._slider.destroy();this._slider=null;this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);this._hLabels&&(this._hLabels.destroyRecursive(),this._hLabels=null);this.inherited(arguments)},onTimeExtentChange:function(){},onPlay:function(){},onPause:function(){},onNext:function(){},onPrevious:function(){},_onHorizontalChange:function(){var d=this._sliderToTimeExtent();
this.onTimeExtentChange(d)},_onPlay:function(){this.playing=!this.playing;this._updateUI();this.playing?(this._timer.start(),this.onPlay(this._sliderToTimeExtent())):(this._timer.stop(),this.onPause(this._sliderToTimeExtent()));var d=this._getSliderValue();this._offset=f.isArray(d)?d[1]-d[0]:0},_onNext:function(){this.playing||(this._bumpSlider(1),this.onNext(this._sliderToTimeExtent()))},_onPrev:function(){this.playing||(this._bumpSlider(-1),this.onPrevious(this._sliderToTimeExtent()))},createTimeStopsByCount:function(d,
a){if(!d||!d.startTime||!d.endTime)console.log(this.NLS_invalidTimeExtent);else{a=a||this._defaultCount;var h=Math.ceil((d.endTime-d.startTime)/(a-1));this.createTimeStopsByTimeInterval(d,h,"esriTimeUnitsMilliseconds")}},createTimeStopsByTimeInterval:function(d,a,h,c){if(!d||!d.startTime||!d.endTime)console.log(this.NLS_invalidTimeExtent);else{this.fullTimeExtent=new z(d.startTime,d.endTime);c&&!0===c.resetStartTime&&this._resetStartTime(this.fullTimeExtent,h);this._timeIntervalUnits=h;c=this.fullTimeExtent.startTime;
for(var x=[];c<=d.endTime;)x.push(c),c=d._getOffsettedDate(c,a,h);0<x.length&&x[x.length-1]<d.endTime&&x.push(c);this.setTimeStops(x)}},getCurrentTimeExtent:function(){return this._sliderToTimeExtent()},setTimeStops:function(d){this.timeStops=d||[];this._numTicks=this._numStops=this.timeStops.length;!1===A.isDefined(this.fullTimeExtent)&&(this.fullTimeExtent=new z(d[0],d[d.length-1]))},setLoop:function(d){this.loop=d},setThumbCount:function(d){this.thumbCount=d;this.singleThumbAsTimeInstant(this._createTimeInstants);
this._slider&&this._createSlider()},setThumbIndexes:function(d){this.thumbIndexes=f.clone(d)||[0,1];this._initializeThumbs()},setThumbMovingRate:function(d){this.thumbMovingRate=d;this._timer&&this._timer.setInterval(this.thumbMovingRate)},setLabels:function(d){this.labels=d;this._slider&&this._createSlider()},setTickCount:function(d){this._numTicks=d;this._slider&&this._createSlider()},singleThumbAsTimeInstant:function(d){this._createTimeInstants=d&&1===this.thumbCount},next:function(){this._onNext()},
pause:function(){this.playing=!1;this._updateUI();this._timer.stop()},play:function(){!0!==this.playing&&(this.playing=!1,this._onPlay())},previous:function(){this._onPrev()},_updateUI:function(){p.remove(this.playPauseBtn.iconNode,this._iconClass);this._iconClass=this.playing?"tsButton tsPauseButton":"tsButton tsPlayButton";p.add(this.playPauseBtn.iconNode,this._iconClass);this.previousBtn.set("disabled",this.playing);this.nextBtn.set("disabled",this.playing)},_createSlider:function(){this._slider&&
(this._slider.destroy(),this._slider=null);for(var d=this.domNode;d.parentNode&&!d.dir;)d=d.parentNode;d={onChange:f.hitch(this,"_onHorizontalChange"),showButtons:!1,discreteValues:this._numStops,slideDuration:this._slideDuration,"class":"ts",dir:q.isBodyLtr()?"ltr":"rtl"};this._ts=t.create("div",{},m.query(".tsTmp",this.domNode)[0],"first");this._timeSliderTicks=t.create("div",{},this._ts,"first");this._timeSliderLabels=t.create("div",{},this._ts);2===this.thumbCount?this._createRangeSlider(d):this._createSingleSlider(d);
this.thumbIndexes=this.thumbIndexes||[0,1];this._createHorizRule();this._createLabels();!0===this._createTimeInstants&&m.query(".dijitSliderProgressBarH, .dijitSliderLeftBumper, .dijitSliderRightBumper",this._ts).forEach(function(d){r.set(d,{background:"none"})});this._initializeThumbs();b.disconnect(this._onChangeConnect);this._onChangeConnect=b.connect(this._slider,"onChange",f.hitch(this,"_updateThumbIndexes"))},_createRangeSlider:function(d){this._isRangeSlider=!0;this._slider=new (g([k,c],{templateString:u}))(d,
this._ts)},_createSingleSlider:function(d){this._isRangeSlider=!1;this._slider=new k(d,this._ts)},_createHorizRule:function(){this._hTicks&&(this._hTicks.destroyRecursive(),this._hTicks=null);2>this._numTicks||(this._hTicks=new l({container:"topDecoration",ruleStyle:"","class":"tsTicks",count:this._numTicks},this._timeSliderTicks))},_createLabels:function(){this._hLabels&&(this._hLabels.destroyRecursive(),this._hLabels=null);this.labels&&0<this.labels.length&&(this._hLabels=new v({labels:this.labels,
labelStyle:"","class":"tsLabels"},this._timeSliderLabels))},_initializeThumbs:function(){if(this._slider){this._offset=this._toSliderValue(this.thumbIndexes[1])||0;var d=this._toSliderValue(this.thumbIndexes[0]),d=d>this._slider.maximum||d<this._slider.minimum?this._slider.minimum:d;if(!0===this._isRangeSlider){var a=this._toSliderValue(this.thumbIndexes[1]),a=a>this._slider.maximum||a<this._slider.minimum?this._slider.maximum:a;this._setSliderValue([d,a<d?d:a])}else this._setSliderValue(d);this._onHorizontalChange()}},
_bumpSlider:function(d){var a=this._getSliderValue(),h=a,z=h,c=d;f.isArray(a)&&(z=a[0],h=a[1],c=[{change:d,useMaxValue:!0},{change:d,useMaxValue:!1}]);1E-10>Math.abs(z-this._slider.minimum)&&0>d||1E-10>Math.abs(h-this._slider.maximum)&&0<d?this._timer.isRunning&&(this.loop?(this._timer.stop(),this._setSliderValue(this._getSliderMinValue()),d=this._sliderToTimeExtent(),this.onTimeExtentChange(d),this._timer.start(),this.playing=!0):this.pause()):this._slider._bumpValue(c)},_updateThumbIndexes:function(){var d=
this._getSliderValue();f.isArray(d)?(this.thumbIndexes[0]=this._toSliderIndex(d[0]),this.thumbIndexes[1]=this._toSliderIndex(d[1])):this.thumbIndexes[0]=this._toSliderIndex(d)},_sliderToTimeExtent:function(){if(this.timeStops&&0!==this.timeStops.length){var d=new z,a=this._getSliderValue(),h,c;f.isArray(a)?(a[0]>a[1]?(c=a[0],h=a[1]):(h=a[0],c=a[1]),d.startTime=new Date(this.timeStops[this._toSliderIndex(h)]),d.endTime=new Date(this.timeStops[this._toSliderIndex(c)]),this._adjustTimeExtent(d)):(d.startTime=
!0===this._createTimeInstants?new Date(this.timeStops[this._toSliderIndex(a)]):new Date(this.fullTimeExtent.startTime),d.endTime=!0===this._createTimeInstants?d.startTime:new Date(this.timeStops[this._toSliderIndex(a)]));return d}},_adjustTimeExtent:function(d){if(!(!1===this._options.excludeDataAtTrailingThumb&&!1===this._options.excludeDataAtLeadingThumb)&&d.startTime.getTime()!==d.endTime.getTime()){if(this._options.excludeDataAtTrailingThumb){var a=d.startTime;a.setUTCSeconds(a.getUTCSeconds()+
1)}this._options.excludeDataAtLeadingThumb&&(d=d.endTime,d.setUTCSeconds(d.getUTCSeconds()-1))}},_resetStartTime:function(d,a){switch(a){case "esriTimeUnitsSeconds":d.startTime.setUTCMilliseconds(0);break;case "esriTimeUnitsMinutes":d.startTime.setUTCSeconds(0,0,0);break;case "esriTimeUnitsHours":d.startTime.setUTCMinutes(0,0,0);break;case "esriTimeUnitsDays":d.startTime.setUTCHours(0,0,0,0);break;case "esriTimeUnitsWeeks":d.startTime.setUTCDate(d.startTime.getUTCDate()-d.startTime.getUTCDay());break;
case "esriTimeUnitsMonths":d.startTime.setUTCDate(1);d.startTime.setUTCHours(0,0,0,0);break;case "esriTimeUnitsDecades":d.startTime.setUTCFullYear(d.startTime.getUTCFullYear()-d.startTime.getUTCFullYear()%10);break;case "esriTimeUnitsCenturies":d.startTime.setUTCFullYear(d.startTime.getUTCFullYear()-d.startTime.getUTCFullYear()%100)}},_getSliderMinValue:function(){return this._isRangeSlider?[this._slider.minimum,this._slider.minimum+this._offset]:this._slider.minimum},_toSliderIndex:function(d){d=
Math.floor((d-this._slider.minimum)*this._numStops/(this._slider.maximum-this._slider.minimum));0>d&&(d=0);d>=this._numStops&&(d=this._numStops-1);return d},_toSliderValue:function(d){return d*(this._slider.maximum-this._slider.minimum)/(this._numStops-1)+this._slider.minimum},_getSliderValue:function(){return this._slider.get("value")},_setSliderValue:function(d){this._slider._setValueAttr(d,!1,!1)}})})},"dojox/timing/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(g){g.experimental("dojox.timing");
g.getObject("timing",!0,dojox);dojox.timing.Timer=function(f){this.timer=null;this.isRunning=!1;this.interval=f;this.onStop=this.onStart=null};g.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(f){this.isRunning&&window.clearInterval(this.timer);this.interval=f;this.isRunning&&(this.timer=window.setInterval(g.hitch(this,"onTick"),this.interval))},start:function(){if("function"==typeof this.onStart)this.onStart();this.isRunning=!0;this.timer=window.setInterval(g.hitch(this,"onTick"),
this.interval)},stop:function(){if("function"==typeof this.onStop)this.onStop();this.isRunning=!1;window.clearInterval(this.timer)}});return dojox.timing})},"dojox/form/RangeSlider":function(){define(["dojo/_base/kernel","./_RangeSliderMixin","./HorizontalRangeSlider","./VerticalRangeSlider"],function(g,f){g.deprecated("Call require() for HorizontalRangeSlider / VerticalRangeSlider, explicitly rather than 'dojox.form.RangeSlider' itself","","2.0");return f})},"dojox/form/_RangeSliderMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/_base/event dojo/_base/sniff dojo/dom-style dojo/dom-geometry dojo/keys dijit dojo/dnd/Mover dojo/dnd/Moveable dijit/form/_FormValueWidget dijit/focus dojo/fx dojox/fx".split(" "),
function(g,f,b,m,n,p,t,r,q,e,s,k,l,v,a){var c=function(a,h){return h-a},u=function(a,h){return a-h};e=g("dojox.form._RangeSliderMixin",null,{_setTabIndexAttr:["sliderHandle","sliderHandleMax"],value:[0,100],postMixInProperties:function(){this.inherited(arguments);this.value=b.map(this.value,function(a){return parseInt(a,10)})},postCreate:function(){this.inherited(arguments);this.value.sort(this._isReversed()?c:u);var a=this,h=g(y,{constructor:function(){this.widget=a}});this._movableMax=new k(this.sliderHandleMax,
{mover:h});this.sliderHandle.setAttribute("aria-valuemin",this.minimum);this.sliderHandle.setAttribute("aria-valuemax",this.maximum);this.sliderHandleMax.setAttribute("aria-valuemin",this.minimum);this.sliderHandleMax.setAttribute("aria-valuemax",this.maximum);h=g(A,{constructor:function(){this.widget=a}});this._movableBar=new k(this.progressBar,{mover:h});this.focusNode.removeAttribute("aria-valuemin");this.focusNode.removeAttribute("aria-valuemax");this.focusNode.removeAttribute("aria-valuenow")},
destroy:function(){this.inherited(arguments);this._movableMax.destroy();this._movableBar.destroy()},_onKeyPress:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey){var h=a.target===this.sliderHandleMax,c=a.target===this.progressBar,w=f.delegate(q,this.isLeftToRight()?{PREV_ARROW:q.LEFT_ARROW,NEXT_ARROW:q.RIGHT_ARROW}:{PREV_ARROW:q.RIGHT_ARROW,NEXT_ARROW:q.LEFT_ARROW}),d=0,b=!1;switch(a.keyCode){case w.HOME:this._setValueAttr(this.minimum,!0,h);n.stop(a);return;case w.END:this._setValueAttr(this.maximum,
!0,h);n.stop(a);return;case w.PREV_ARROW:case w.DOWN_ARROW:b=!0;case w.NEXT_ARROW:case w.UP_ARROW:d=1;break;case w.PAGE_DOWN:b=!0;case w.PAGE_UP:d=this.pageIncrement;break;default:this.inherited(arguments);return}b&&(d=-d);d&&(c?this._bumpValue([{change:d,useMaxValue:!1},{change:d,useMaxValue:!0}]):this._bumpValue(d,h),n.stop(a))}},_onHandleClickMax:function(a){!this.disabled&&!this.readOnly&&(p("ie")||v.focus(this.sliderHandleMax),n.stop(a))},_onClkIncBumper:function(){this._setValueAttr(!1===this._descending?
this.minimum:this.maximum,!0,!0)},_bumpValue:function(a,h){var c=f.isArray(a)?[this._getBumpValue(a[0].change,a[0].useMaxValue),this._getBumpValue(a[1].change,a[1].useMaxValue)]:this._getBumpValue(a,h);this._setValueAttr(c,!0,h)},_getBumpValue:function(a,h){var c=h?1:0;this._isReversed()&&(c=1-c);var b=t.getComputedStyle(this.sliderBarContainer),d=r.getContentBox(this.sliderBarContainer,b),b=this.discreteValues,c=this.value[c];if(1>=b||Infinity==b)b=d[this._pixelCount];b--;c=this.maximum>this.minimum?
(c-this.minimum)*b/(this.maximum-this.minimum)+a:0;0>c&&(c=0);c>b&&(c=b);return c*(this.maximum-this.minimum)/b+this.minimum},_onBarClick:function(a){!this.disabled&&!this.readOnly&&(p("ie")||v.focus(this.progressBar),n.stop(a))},_onRemainingBarClick:function(a){if(!this.disabled&&!this.readOnly){p("ie")||v.focus(this.progressBar);var h=r.position(this.sliderBarContainer,!0),c=r.position(this.progressBar,!0),b=a[this._mousePixelCoord],d=c[this._startingPixelCoord],c=d+c[this._pixelCount],d=this._isReversed()?
b<=d:b>=c,b=this._isReversed()?h[this._pixelCount]-b+h[this._startingPixelCoord]:b-h[this._startingPixelCoord];this._setPixelValue(b,h[this._pixelCount],!0,d);n.stop(a)}},_setPixelValue:function(a,h,c,b){!this.disabled&&!this.readOnly&&(a=this._getValueByPixelValue(a,h),this._setValueAttr(a,c,b))},_getValueByPixelValue:function(a,h){var c=this.discreteValues;if(1>=c||Infinity==c)c=h;c--;var b=Math.round((0>a?0:h<a?h:a)/(h/c));return(this.maximum-this.minimum)*b/c+this.minimum},_setValueAttr:function(a,
h,b){var e=this.value;f.isArray(a)?e=a:b?this._isReversed()?e[0]=a:e[1]=a:this._isReversed()?e[1]=a:e[0]=a;this._lastValueReported="";this.valueNode.value=this.value=a=e;this.value.sort(this._isReversed()?c:u);this.sliderHandle.setAttribute("aria-valuenow",e[0]);this.sliderHandleMax.setAttribute("aria-valuenow",e[1]);l.prototype._setValueAttr.apply(this,arguments);this._printSliderBar(h,b)},_printSliderBar:function(c,h){var b=this.maximum>this.minimum?(this.value[0]-this.minimum)/(this.maximum-this.minimum):
0,e=this.maximum>this.minimum?(this.value[1]-this.minimum)/(this.maximum-this.minimum):0,d=b;b>e&&(b=e,e=d);var u=this._isReversed()?100*(1-b):100*b,f=this._isReversed()?100*(1-e):100*e,g=this._isReversed()?100*(1-e):100*b;if(c&&0<this.slideDuration&&this.progressBar.style[this._progressPixelSize]){if(parseFloat(this.progressBar.style[this._handleOffsetCoord]),d=this.slideDuration/10,0!==d){0>d&&(d=0-d);var s={},k={},l={};s[this._handleOffsetCoord]={start:this.sliderHandle.parentNode.style[this._handleOffsetCoord],
end:u,units:"%"};k[this._handleOffsetCoord]={start:this.sliderHandleMax.parentNode.style[this._handleOffsetCoord],end:f,units:"%"};l[this._handleOffsetCoord]={start:this.progressBar.style[this._handleOffsetCoord],end:g,units:"%"};l[this._progressPixelSize]={start:this.progressBar.style[this._progressPixelSize],end:100*(e-b),units:"%"};b=m.animateProperty({node:this.sliderHandle.parentNode,duration:d,properties:s});e=m.animateProperty({node:this.sliderHandleMax.parentNode,duration:d,properties:k});
d=m.animateProperty({node:this.progressBar,duration:d,properties:l});a.combine([b,e,d]).play()}}else this.sliderHandle.parentNode.style[this._handleOffsetCoord]=u+"%",this.sliderHandleMax.parentNode.style[this._handleOffsetCoord]=f+"%",this.progressBar.style[this._handleOffsetCoord]=g+"%",this.progressBar.style[this._progressPixelSize]=100*(e-b)+"%"}});var y=g("dijit.form._SliderMoverMax",s,{onMouseMove:function(a){var c=this.widget,b=c._abspos;b||(b=c._abspos=r.position(c.sliderBarContainer,!0),
c._setPixelValue_=f.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());a=a[c._mousePixelCoord]-b[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?b[c._pixelCount]-a:a,b[c._pixelCount],!1,!0)},destroy:function(a){s.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}}),A=g("dijit.form._SliderBarMover",s,{onMouseMove:function(a){var c=this.widget;if(!c.disabled&&!c.readOnly){var b=c._abspos,e=c._bar,d=c._mouseOffset;b||(b=c._abspos=r.position(c.sliderBarContainer,
!0),c._setPixelValue_=f.hitch(c,"_setPixelValue"),c._getValueByPixelValue_=f.hitch(c,"_getValueByPixelValue"),c._isReversed_=c._isReversed());e||(e=c._bar=r.position(c.progressBar,!0));d||(d=c._mouseOffset=a[c._mousePixelCoord]-e[c._startingPixelCoord]);a=a[c._mousePixelCoord]-b[c._startingPixelCoord]-d;pixelValues=[a,a+e[c._pixelCount]];pixelValues.sort(u);0>=pixelValues[0]&&(pixelValues[0]=0,pixelValues[1]=e[c._pixelCount]);pixelValues[1]>=b[c._pixelCount]&&(pixelValues[1]=b[c._pixelCount],pixelValues[0]=
b[c._pixelCount]-e[c._pixelCount]);b=[c._getValueByPixelValue(c._isReversed_?b[c._pixelCount]-pixelValues[0]:pixelValues[0],b[c._pixelCount]),c._getValueByPixelValue(c._isReversed_?b[c._pixelCount]-pixelValues[1]:pixelValues[1],b[c._pixelCount])];c._setValueAttr(b,!1,!1)}},destroy:function(){s.prototype.destroy.apply(this,arguments);var a=this.widget;a._abspos=null;a._bar=null;a._mouseOffset=null;a._setValueAttr(a.value,!0)}});return e})},"dojox/fx":function(){define(["./fx/_base"],function(g){return g})},
"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(g,f,b,m,n,p,t,r,q){g=f.getObject("dojox.fx",!0);f.mixin(g,{anim:b.anim,animateProperty:b.animateProperty,fadeTo:b._fade,fadeIn:b.fadeIn,fadeOut:b.fadeOut,combine:m.combine,chain:m.chain,slideTo:m.slideTo,wipeIn:m.wipeIn,wipeOut:m.wipeOut});g.sizeTo=function(e){var g=e.node=n.byId(e.node),k=e.method||"chain";e.duration||
(e.duration=500);"chain"==k&&(e.duration=Math.floor(e.duration/2));var l,v,a,c,u,y=null,q=function(b){return function(){var f=p.getComputedStyle(b),g=f.position,k=f.width,d=f.height;l="absolute"==g?b.offsetTop:parseInt(f.top)||0;a="absolute"==g?b.offsetLeft:parseInt(f.left)||0;u="auto"==k?0:parseInt(k);y="auto"==d?0:parseInt(d);c=a-Math.floor((e.width-u)/2);v=l-Math.floor((e.height-y)/2);"absolute"!=g&&"relative"!=g&&(f=p.coords(b,!0),l=f.y,a=f.x,b.style.position="absolute",b.style.top=l+"px",b.style.left=
a+"px")}}(g),g=b.animateProperty(f.mixin({properties:{height:function(){q();return{end:e.height||0,start:y}},top:function(){return{start:l,end:v}}}},e)),k=b.animateProperty(f.mixin({properties:{width:function(){return{start:u,end:e.width||0}},left:function(){return{start:a,end:c}}}},e));return m["combine"==e.method?"combine":"chain"]([g,k])};g.slideBy=function(e){var g,k,l=function(b){return function(){var a=p.getComputedStyle(b),c=a.position;g="absolute"==c?b.offsetTop:parseInt(a.top)||0;k="absolute"==
c?b.offsetLeft:parseInt(a.left)||0;"absolute"!=c&&"relative"!=c&&(a=t.coords(b,!0),g=a.y,k=a.x,b.style.position="absolute",b.style.top=g+"px",b.style.left=k+"px")}}(e.node=n.byId(e.node));l();e=b.animateProperty(f.mixin({properties:{top:g+(e.top||0),left:k+(e.left||0)}},e));r.connect(e,"beforeBegin",e,l);return e};g.crossFade=function(e){var g=e.nodes[0]=n.byId(e.nodes[0]),k=q.style(g,"opacity"),l=e.nodes[1]=n.byId(e.nodes[1]);q.style(l,"opacity");return m.combine([b[0==k?"fadeIn":"fadeOut"](f.mixin({node:g},
e)),b[0==k?"fadeOut":"fadeIn"](f.mixin({node:l},e))])};g.highlight=function(e){var g=e.node=n.byId(e.node);e.duration=e.duration||400;var k=e.color||"#ffff99",l=q.style(g,"backgroundColor");"rgba(0, 0, 0, 0)"==l&&(l="transparent");e=b.animateProperty(f.mixin({properties:{backgroundColor:{start:k,end:l}}},e));"transparent"==l&&r.connect(e,"onEnd",e,function(){g.style.backgroundColor=l});return e};g.wipeTo=function(e){e.node=n.byId(e.node);var g=e.node,k=g.style,l=e.width?"width":"height",m={};m[l]=
{start:function(){k.overflow="hidden";if("hidden"==k.visibility||"none"==k.display)return k[l]="1px",k.display="",k.visibility="",1;var a=q.style(g,l);return Math.max(a,1)},end:e[l]};return b.animateProperty(f.mixin({properties:m},e))};return g})},"dojox/form/HorizontalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/HorizontalRangeSlider.html","dijit/form/HorizontalSlider"],function(g,f,b,m){return g("dojox.form.HorizontalRangeSlider",[m,
f],{templateString:b})})},"dojox/form/VerticalRangeSlider":function(){define(["dojo/_base/declare","dojox/form/_RangeSliderMixin","dojo/text!./resources/VerticalRangeSlider.html","dijit/form/VerticalSlider"],function(g,f,b,m){return g("dojox.form.VerticalRangeSlider",[m,f],{templateString:b})})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(g,f,b){return g("dijit.form.VerticalSlider",f,{templateString:b,
_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},"widgets/TimeSlider/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!./config.json"],function(){})},"url:dojox/form/resources/HorizontalRangeSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onkeyup:_onKeyUp" role\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" dojoAttachEvent\x3d"onmousedown:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv role\x3d"presentation" class\x3d"dojoxRangeSliderBarContainer" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" dojoAttachEvent\x3d"onmousedown:_onBarClick"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onmousedown:_onHandleClickMax" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" dojoAttachEvent\x3d"onmousedown:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dojox/form/resources/VerticalRangeSlider.html":'\x3ctable class\x3d"dijitReset dijitSlider dijitSliderV dojoxRangeSlider" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"decrementButton" dojoAttachEvent\x3d"onclick: increment"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" dojoAttachEvent\x3d"onclick:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput dojoAttachPoint\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter role\x3d"presentation" style\x3d"position:relative;height:100%;" dojoAttachPoint\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" dojoAttachEvent\x3d"onmousedown:_onRemainingBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandle,focusNode" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClick"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv role\x3d"presentation" dojoAttachPoint\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onBarClick"\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;" role\x3d"slider"\r\n\t\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" dojoAttachPoint\x3d"sliderHandleMax" tabIndex\x3d"${tabIndex}" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_onHandleClickMax"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd dojoAttachPoint\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV" style\x3d"text-align:center;height:100%;"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" dojoAttachEvent\x3d"onclick:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" tabIndex\x3d"-1" style\x3d"display:none" dojoAttachPoint\x3d"incrementButton" dojoAttachEvent\x3d"onclick: decrement"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:esri/dijit/templates/TimeSlider.html":'   \x3cdiv class\x3d"esriTimeSlider"\x3e\r\n   \x3ctable width\x3d"100%" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0"\x3e\r\n   \x3ctr\x3e\r\n   \x3ctd align\x3d"right" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPlayButton" dojoAttachEvent\x3d"onClick:_onPlay" dojoAttachPoint\x3d"playPauseBtn" type\x3d"button"\x3e${NLS_play}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"80%" class\x3d"tsTmp"\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle" width\x3d"30"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsPrevButton" dojoAttachEvent\x3d"onClick:_onPrev" dojoAttachPoint\x3d"previousBtn" type\x3d"button"\x3e${NLS_previous}\x3c/button\x3e\x3c/td\x3e\r\n   \x3ctd align\x3d"left" valign\x3d"middle"\x3e\x3cbutton dojoType\x3d"dijit.form.Button" showLabel\x3d"false" iconClass\x3d"tsButton tsNextButton" dojoAttachEvent\x3d"onClick:_onNext" dojoAttachPoint\x3d"nextBtn" type\x3d"button"\x3e${NLS_next}\x3c/button\x3e\x3c/td\x3e\r\n   \x3c/tr\x3e    \r\n   \x3c/table\x3e\r\n   \x3c/div\x3e',
"url:widgets/TimeSlider/Widget.html":'\x3cdiv class\x3d"jimu-widget-timeslider"\x3e\r\n\t\x3cdiv class\x3d"no-time-content" data-dojo-attach-point\x3d"noTimeContentNode"\x3e${nls.disableTips}\x3c/div\x3e\r\n\t\x3cdiv class\x3d"time-content" data-dojo-attach-point\x3d"timeContentNode"\x3e\r\n\t\t\x3cdiv class\x3d"time-extent jimu-ellipsis" data-dojo-attach-point\x3d"timeExtentLabelNode"\x3e${nls.timeExtent}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"layer-labels jimu-ellipsis" data-dojo-attach-point\x3d"layerLabelsNode"\x3e${nls.layers}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"slider-content" data-dojo-attach-point\x3d"sliderContent"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"sliderNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"speed-container jimu-float-trailing jimu-trailing-margin1" data-dojo-attach-point\x3d"speedContainerNode" data-dojo-attach-event\x3d"mouseenter:_onMouseEnterSpeedContainer,mouseleave:_onMouseLeaveSpeedContainer"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"speed-label" data-dojo-attach-point\x3d"speedLabelNode" data-dojo-attach-event\x3d"click:_onSpeedLabelClick"\x3e1X\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"speed-menu" data-dojo-attach-point\x3d"speedMenu" data-dojo-attach-event\x3d"click:_onSelectSpeedItem"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item item-label jimu-ellipsis" title\x3d"${nls.speedLabel}"\x3e${nls.speedLabel}\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.25"\x3e0.25X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"0.5"\x3e0.5X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1"\x3e1X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"1.5"\x3e1.5X\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"speed-menu-item" speed\x3d"2"\x3e2X\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/css/style.css":".jimu-widget-timeslider{bottom: 55px; left: 7px; position: absolute;}.jimu-widget-timeslider .esriTimeSlider{z-index: 99;}.jimu-widget-timeslider .no-time-content,.jimu-widget-timeslider .time-content{position: relative; display: none; background: #8e8e8e; background: rgba(0,0,0,0.4); z-index: 0;}.jimu-widget-timeslider .no-time-content{height: 30px; padding: 0px 10px; line-height: 30px; font-size: 14px; color: #fff;}.jimu-widget-timeslider .time-content{height: 100px; padding-top: 20px; opacity: 0;}.jimu-widget-timeslider .time-extent{margin-bottom: 5px; font-size: 14px; color: #fff; text-align: center;}.jimu-widget-timeslider .layer-labels{font-size: 12px; color: #fff; text-align: center; margin-bottom: 8px;}.jimu-widget-timeslider .slider-content{position: relative; max-width: 657px; margin: auto;}.jimu-widget-timeslider .slider-content .esriTimeSlider{width: 600px;}.jimu-widget-timeslider .speed-container{position: relative; height: 28px; width: 40px; cursor: pointer;}.jimu-widget-timeslider .speed-menu{display: none; width: 105px; background: #759dc0; color: white; position: absolute; bottom: 27px; text-align: left; border-radius: 4px;}.jimu-rtl .jimu-widget-timeslider .speed-menu{text-align: right;}.jimu-widget-timeslider .speed-menu-item{width: 100%; display: inline-block; height: 20px; line-height: 20px; padding-left: 10px;}.jimu-rtl .jimu-widget-timeslider .speed-menu-item{padding-left: 0; padding-right: 10px;}.jimu-widget-timeslider .item-label {border-bottom: 1px solid #c9e0f6;}.jimu-widget-timeslider .speed-menu-item:hover{background: #485566;}.jimu-widget-timeslider .speed-label{width: 40px; height: 25px; color: white; text-align: center; background: #759dc0; line-height: 25px; position: absolute; bottom: 0; border-radius: 4px;}.mobile-time-slider{left: 5px !important; right: 5px !important; width: auto;}.jimu-widget-timeslider .mobile .slider-content{width: 100% !important;}",
"url:widgets/TimeSlider/config.json":'{\r\n\t"showLabels": false\r\n}',"*now":function(g){g(['dojo/i18n!*preload*widgets/TimeSlider/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/fx dojo/on dojo/sniff dojo/Deferred jimu/LayerInfos/LayerInfos jimu/BaseWidget jimu/utils esri/lang esri/TimeExtent esri/dijit/TimeSlider".split(" "),function(g,f,b,m,n,p,t,r,q,e,s,k,l,v){return g([e],{baseClass:"jimu-widget-timeslider",clasName:"esri.widgets.TimeSlider",_showed:!1,_timeHandles:null,layerInfosObj:null,postCreate:function(){this.inherited(arguments);this._timeHandles=[];this.getTimeSliderProps(this.map).then(f.hitch(this,
function(){this._initLayerInfosObj().then(f.hitch(this,function(){this.processTimeDisableLayer()}))}))},startup:function(){this.inherited(arguments);this.own(p(this.map,"resize",f.hitch(this,this._onMapResize)))},_initLayerInfosObj:function(){var a=new r;this.layerInfosObj?a.resolve(this.layerInfosObj):q.getInstance(this.map,this.map.itemInfo).then(f.hitch(this,function(c){this.layerInfosObj=c;this.own(p(c,"layerInfosIsShowInMapChanged",f.hitch(this,this._onLayerInfosIsShowInMapChanged)));this.own(c.on("layerInfosChanged",
f.hitch(this,this._onLayerInfosChanged)));a.resolve(this.layerInfosObj)}));return a},_isTimeTemporalLayer:function(a,c){var b=a&&a.timeInfo&&a.useMapTime,e=this.layerInfosObj.getLayerInfoById(a.id),e=e&&e.originOperLayer&&!1!==e.originOperLayer.timeAnimation;if(b&&e&&(c?a.visible:1))if("esri.layers.KMLLayer"===a.declaredClass){if(b=a.getLayers(),m.some(b,function(a){return a.timeInfo&&a.timeInfo.timeExtent?!0:!1}))return!0}else if(a.timeInfo&&a.timeInfo.timeExtent)return!0;return!1},_processTimeUpdate:function(a){var c=
null,c=!0,c=(c=this.layerInfosObj.getLayerInfoById(a.id))&&c.originOperLayer&&!1!==c.originOperLayer.timeAnimation;!c&&"setUseMapTime"in a&&a.setUseMapTime(!1)},processTimeDisableLayer:function(){var a=0,c,b,a=0;for(c=this.map.layerIds.length;a<c;a++)b=this.map.layerIds[a],b=this.map.getLayer(b),this._processTimeUpdate(b);a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._processTimeUpdate(b)},hasVisibleTemporalLayer:function(){var a=0,c,
b,a=0;for(c=this.map.layerIds.length;a<c;a++)if(b=this.map.layerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0))return!0;a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)if(b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0))return!0;return!1},_onLayerInfosIsShowInMapChanged:function(a){m.some(a,f.hitch(this,function(a){for(var b=null;!b;)b=this.map.getLayer(a.id),a=a.parentLayerInfo;return this._isTimeTemporalLayer(b)}))&&this._onTimeTemportalLayerChanged()},
_onLayerInfosChanged:function(a,c,b){"added"===c?(a=this.map.getLayer(b.id),this._isTimeTemporalLayer(a,!0)&&this._onTimeTemportalLayerChanged()):"removed"===c&&this._onTimeTemportalLayerChanged()},_onTimeTemportalLayerChanged:function(){"closed"!==this.state&&(this.hasVisibleTemporalLayer()?this.timeSlider?this.updateLayerLabel():this.showTimeSlider():this.timeSlider&&this.closeTimeSlider())},onOpen:function(){this._initLayerInfosObj().then(f.hitch(this,function(){this.hasVisibleTemporalLayer()?
this._showed||this.showTimeSlider():(b.setStyle(this.noTimeContentNode,"display","block"),b.setStyle(this.timeContentNode,"display","none"),this._showed=!0)}))},onClose:function(){this._initLayerInfosObj().then(f.hitch(this,function(){this.hasVisibleTemporalLayer()?this._showed&&this.closeTimeSlider():(b.setStyle(this.noTimeContentNode,"display","none"),this._showed=!1)}))},_isRunInMobile:function(){return window.appInfo.isRunInMobile},showTimeSlider:function(){b.setStyle(this.noTimeContentNode,"display",
"none");this.createTimeSlider();b.setStyle(this.timeContentNode,"display","block");b.addClass(this.domNode,"show-time-slider");this._adaptResponsive();t("ie")&&9>t("ie")?this._showed=!0:n.animateProperty({node:this.timeContentNode,properties:{opacity:{start:0,end:1}},onEnd:f.hitch(this,function(){this._showed=!0;this._setMenuPosition()}),duration:500}).play()},closeTimeSlider:function(){b.setStyle(this.domNode,"display","block");t("ie")&&9>t("ie")?this._onCloseTimeSliderEnd():n.animateProperty({node:this.timeContentNode,
properties:{opacity:{start:1,end:0}},onEnd:f.hitch(this,this._onCloseTimeSliderEnd),duration:500}).play()},_onCloseTimeSliderEnd:function(){this._destroyed||(this.removeTimeSlider(),this._showed=!1,b.setStyle(this.timeContentNode,"display","none"),b.removeClass(this.domNode,"show-time-slider"),"closed"!==this.state&&b.setStyle(this.noTimeContentNode,"display","block"),"closed"===this.state&&(b.removeClass(this.domNode,"mobile-time-slider"),b.removeClass(this.timeContentNode,"mobile")))},getTimeSliderProps:function(a){var c=
new r;(a=a&&a.itemInfo)&&a.itemData&&a.itemData.widgets&&a.itemData.widgets.timeSlider&&a.itemData.widgets.timeSlider.properties?c.resolve(a.itemData.widgets.timeSlider.properties):c.resolve(null);return c},createTimeSlider:function(){this.timeSlider||this.getTimeSliderProps(this.map).then(f.hitch(this,function(a){this.timeSlider=new v({},this.sliderNode);this.map.setTimeSlider(this.timeSlider);var c=new l(new Date(a.startTime),new Date(a.endTime));this.timeSlider.setThumbCount(a.thumbCount);a.numberOfStops?
this.timeSlider.createTimeStopsByCount(c,a.numberOfStops+1):this.timeSlider.createTimeStopsByTimeInterval(c,a.timeStopInterval.interval,a.timeStopInterval.units);this.timeSlider.setThumbMovingRate(a.thumbMovingRate);25<this.timeSlider.timeStops.length&&this.timeSlider.setTickCount(0);2===this.timeSlider.thumbCount&&this.timeSlider.setThumbIndexes([0,1]);this.timeSlider.setLoop(!0);this.timeSlider.startup();b.addClass(this.timeSlider.domNode,"jimu-float-leading");this.updateLayerLabel();this.updateTimeExtentLabel();
this._timeHandles.push(p(this.timeSlider,"time-extent-change",f.hitch(this,this.updateTimeExtentLabel)))}))},_onSelectSpeedItem:function(a){if(a.target){var c=b.getAttr(a.target,"speed");this.getTimeSliderProps(this.map).then(f.hitch(this,function(e){e&&c&&(c=parseFloat(c),this.timeSlider.setThumbMovingRate(e.thumbMovingRate/c),this.speedLabelNode.innerHTML=a.target.innerHTML);b.setStyle(this.speedMenu,"display","none")}))}},_setMenuPosition:function(){var a=b.position(this.speedLabelNode);0>a.y-
123-2&&b.setStyle(this.speedMenu,{top:"27px",bottom:"auto"});var c=b.getMarginBox(window.jimuConfig.layoutId);window.isRTL?0>a.x-105&&b.setStyle(this.speedMenu,{left:0}):a.x+105>c.w&&b.setStyle(this.speedMenu,{right:0})},_onSpeedLabelClick:function(){this._onMouseEnterSpeedContainer()},_onMouseEnterSpeedContainer:function(){b.setStyle(this.speedMenu,"display","block")},_onMouseLeaveSpeedContainer:function(){b.setStyle(this.speedMenu,"display","none")},updateTimeSlider:function(){if(this.timeSlider){var a=
this.timeSlider.playing;this.removeTimeSlider();this.createTimeSlider();a&&this.timeSlider.play()}},removeTimeSlider:function(){m.forEach(this._timeHandles,function(a){a&&a.remove&&a.remove()});this.timeSlider&&!this.timeSlider._destroyed&&(this.timeSlider.destroy(),this.timeSlider=null);this.map&&this.map.setTimeExtent(null);this.sliderNode=b.create("div",{},this.speedContainerNode,"before")},updateLayerLabel:function(){if(this.config.showLabels){b.setStyle(this.layerLabelsNode,"display","block");
var a=this.nls.layers,c=this._getVisibleTemporalLayerNames(),a=a+c.join(",");this.layerLabelsNode.innerHTML=a;b.setAttr(this.layerLabelsNode,"title",a)}else b.setStyle(this.layerLabelsNode,"display","none")},_getVisibleTemporalLayerNames:function(){var a=0,c,b,e=[],a=0;for(c=this.map.layerIds.length;a<c;a++)b=this.map.layerIds[a],b=this.map.getLayer(b),this._isTimeTemporalLayer(b,!0)&&e.push(b.id);a=0;for(c=this.map.graphicsLayerIds.length;a<c;a++)b=this.map.graphicsLayerIds[a],b=this.map.getLayer(b),
this._isTimeTemporalLayer(b,!0)&&e.push(b.id);return m.map(e,f.hitch(this,function(a){return this.layerInfosObj.getLayerInfoById(a).title||""}))},updateTimeExtentLabel:function(a){var c=this.nls.timeExtent,e=null,f=null;a?(e=a.startTime,0<a.endTime.getTime()-a.startTime.getTime()&&(f=a.endTime)):2===this.timeSlider.thumbCount?(e=this.timeSlider.timeStops[0],f=this.timeSlider.timeStops[1]):e=this.timeSlider.timeStops[0];c=f?k.substitute({FROMTIME:s.localizeDate(e),ENDTIME:s.localizeDate(f)},c):s.localizeDate(e);
this.timeExtentLabelNode.innerHTML=c;b.setAttr(this.timeExtentLabelNode,"title",c)},_adaptResponsive:function(){this.timeSlider&&setTimeout(f.hitch(this,function(){var a=null;window.appInfo.isRunInMobile?(b.addClass(this.timeContentNode,"mobile"),b.addClass(this.domNode,"mobile-time-slider")):(b.removeClass(this.timeContentNode,"mobile"),b.removeClass(this.domNode,"mobile-time-slider"));var a=b.getContentBox(this.sliderContent),c=b.getMarginBox(this.speedContainerNode),a=a.w-c.w;b.setStyle(this.timeSlider.domNode,
"width",a+"px")}),10)},_onMapResize:function(){"closed"!==this.state&&this._adaptResponsive()},destroy:function(){this.map&&this.map.setTimeExtent(null);this.inherited(arguments)}})});