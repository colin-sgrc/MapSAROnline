//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","esri/lang"],function(c,d,e,b){return c([],{userRole:null,portalSelf:null,constructor:function(a,b){this.userRole=a;this.portalSelf=b},canPerformAnalysis:function(){var a=!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?a=!0:this.userRole&&this.userRole.isCustom()&&(a=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&
(a=a&&b.isDefined(this.portalSelf.helperServices.analysis)&&b.isDefined(this.portalSelf.helperServices.analysis.url));return a},hasPrivileges:function(a){return d.isArray(a)?e.every(a,function(a){return"networkanalysis"===a?this._canPerformNetworkAnalysis():"geoenrichment"===a?this._canPerformGeoEnrichment():"elevation"===a?this._canPerformElevationAnalysis():!1},this):!0},_canPerformNetworkAnalysis:function(){var a=b.isDefined(this.portalSelf.helperServices.asyncClosestFacility)&&b.isDefined(this.portalSelf.helperServices.asyncServiceArea)&&
b.isDefined(this.portalSelf.helperServices.asyncVRP);return this.canPerformAnalysis()&&a&&this.userRole.canUseNetworkAnalysis()},_canPerformGeoEnrichment:function(){var a=b.isDefined(this.portalSelf.helperServices.geoenrichment);return this.canPerformAnalysis()&&a&&this.userRole.canUseGeoenrichment()},_canPerformElevationAnalysis:function(){var a=b.isDefined(this.portalSelf.helperServices.elevation);return this.canPerformAnalysis()&&a&&this.userRole.canUseElevation()}})});