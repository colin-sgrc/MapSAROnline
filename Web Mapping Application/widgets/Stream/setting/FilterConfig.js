//>>built
require({cache:{"url:widgets/Stream/setting/FilterConfig.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"stream-filter-head" style\x3d"overflow:hidden;"\x3e\r\n    \x3cdiv class\x3d"jimu-float-leading"\x3e\r\n      \x3cdiv class\x3d"add-with-icon" data-dojo-attach-event\x3d"onclick:_addFilter"\x3e\r\n        \x3cspan class\x3d"jimu-icon jimu-icon-add"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"add-label jimu-widget-normal"\x3e${nls.addNew}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"stream-filterList"\x3e\r\n    \x3cdiv class\x3d"stream-filterList-content"\x3e\r\n      \x3cdiv class\x3d"stream-filter-table" data-dojo-type\x3d"jimu/dijit/SimpleTable"\r\n        data-dojo-attach-point\x3d"filterList"\r\n        data-dojo-attach-event\x3d"row-select:_onFilterSelected, row-delete:_onFilterRemoved"\r\n        data-dojo-props\x3d\'autoHeight:false,selectable:true,fields:[{name:"name",title:"${nls.name}",width:"auto",type:"text",editable:false},{name:"actions",title:"",width:"70px",type:"actions",actions:["up","down","delete"]}]\'\r\n        style\x3d"height:100%;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"single-filter-container" data-dojo-attach-point\x3d"singleFilterContainer"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"shelter" data-dojo-type\x3d"jimu/dijit/LoadingShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./FilterConfig.html ./SingleFilter jimu/dijit/Message jimu/dijit/SimpleTable jimu/dijit/LoadingShelter".split(" "),function(g,e,f,h,d,k,l,m,n,p,q){return g([k,l,m],{baseClass:"jimu-widget-stream-filter",templateString:n,streamLayer:null,config:null,postCreate:function(){this.inherited(arguments);this.config&&0<this.config.length&&this._applyConfig()},
_applyConfig:function(){this.filterList.clear();f.forEach(this.config,e.hitch(this,function(a,b){var c=this.filterList.addRow({name:a.name||this.nls.newFilter}).tr;this._createFilter(c,a);0===b&&this.filterList.selectRow(c)}))},getConfig:function(){var a,b=[];f.forEach(this.filterList.getRows(),function(c){a=c.filter;b.push(a.getConfig())});return b},_addFilter:function(){var a;a=this.filterList.addRow({name:this.nls.newFilter});a.success?(a=a.tr,this._createFilter(a,{name:this.nls.newFilter}),this.filterList.selectRow(a)):
new q({message:this.nls.addFilterFailed})},_onFilterSelected:function(a){var b;this.currentTR?this.currentTR!==a&&((b=this.currentTR.filter)&&d.set(b.domNode,"display","none"),this.currentTR=a,(b=this.currentTR.filter)&&d.set(b.domNode,"display","block")):(this.currentTR=a,(b=this.currentTR.filter)&&d.set(b.domNode,"display","block"))},_onFilterRemoved:function(a){var b=a.filter;b&&(b.destroy(),a.filter=null)},_createFilter:function(a,b){var c=new p({config:b,streamLayer:this.streamLayer,nls:this.nls});
c.placeAt(this.singleFilterContainer);a.filter=c;this.own(h(c,"filterNameChanged",e.hitch(this,function(b){this.filterList.editRow(a,{name:b})})));d.set(c.domNode,"display","none")}})});