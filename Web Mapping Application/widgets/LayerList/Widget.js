//>>built
require({cache:{"widgets/LayerList/LayerListView":function(){define("dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/on dojo/query jimu/dijit/CheckBox ./PopupMenu dijit/_TemplatedMixin dojo/text!./LayerListView.html dojo/dom-attr dojo/dom-class dojo/dom-style ./NlsStrings".split(" "),function(s,n,c,f,g,l,k,r,t,m,q,a,b,e,d){return n([s,m],{templateString:q,_currentSelectedLayerRowNode:null,postMixInProperties:function(){this.inherited(arguments);this.nls=
d.value},postCreate:function(){f.forEach(this.operLayerInfos.getLayerInfoArray(),function(h){this.drawListNode(h,0,this.layerListTable,!0)},this);f.forEach(this.operLayerInfos.getTableInfoArray(),function(h){this.drawListNode(h,0,this.tableListTable,!0)},this)},drawListNode:function(h,b,a){var p;0===h.newSubLayers.length?(p=this.addLayerNode(h,b,a),this.config.showLegend?this.addLegendNode(h,b,p.subNode):e.set(k(".showLegend-image",p.currentNode)[0],"display","none")):(p=this.addLayerNode(h,b,a),
f.forEach(h.newSubLayers,c.hitch(this,function(h,b){this.drawListNode(b,h+1,p.subNode)},b)))},addLayerNode:function(h,b,a){var p=g.create("tr",{"class":"jimu-widget-row layer-row ",layerTrNodeId:h.id},a),d,f,m,q,k,n;d=g.create("td",{"class":"col col1"},p);for(m=0;m<b;m++)g.create("div",{"class":"begin-blank-div jimu-float-leading",innerHTML:""},d);n=g.create("div",{"class":"showLegend-div jimu-float-leading"},d);q=g.create("img",{"class":"showLegend-image",src:isRTL?this.layerListWidget.folderUrl+
"images/v_left.png":this.layerListWidget.folderUrl+"images/v_right.png",alt:"l"},n);f=g.create("div",{"class":"div-select jimu-float-leading"},d);m=new r({checked:h.isVisible()});g.place(m.domNode,f);k=g.create("div",{"class":"noLegend-div jimu-float-leading"},d);g.create("img",{"class":"noLegend-image",src:this.layerListWidget.folderUrl+(h.isTable?"images/table.png":"images/noLegend.png"),alt:"l"},k);if(h.noLegend||h.isTable)e.set(n,"display","none"),e.set(f,"display","none"),e.set(k,"display","block");
e.set(d,"width",12*b+35+"px");b=g.create("td",{"class":"col col2"},p);g.create("div",{innerHTML:h.title,"class":"div-content jimu-float-leading"},b);d=g.create("td",{"class":"col col3"},p);d=g.create("div",{"class":"layers-list-popupMenu-div"},d);f=(new t({_layerInfo:h,box:this.layerListWidget.domNode.parentNode,popupMenuNode:d,layerListWidget:this.layerListWidget,_config:this.config})).placeAt(d);this.own(l(f,"onMenuClick",c.hitch(this,this._onPopupMenuItemClick,h,f)));a=g.create("tr",{"class":"",
layerContentTrNodeId:h.id},a);a=g.create("td",{"class":"",colspan:"3"},a);a=g.create("table",{"class":"layer-sub-node"},a);this.own(l(b,"click",c.hitch(this,this._onRowTrClick,h,q,p,a)));this.own(l(n,"click",c.hitch(this,this._onRowTrClick,h,q,p,a)));this.own(l(p,"mouseover",c.hitch(this,this._onLayerNodeMouseover,p,f)));this.own(l(p,"mouseout",c.hitch(this,this._onLayerNodeMouseout,p,f)));this.own(l(m.domNode,"click",c.hitch(this,this._onCkSelectNodeClick,h,m)));this.own(l(d,"click",c.hitch(this,
this._onPopupMenuClick,h,f,p)));return{currentNode:p,subNode:a}},addLegendNode:function(h,b,a){a=g.create("tr",{"class":"legend-node-tr"},a);a=g.create("td",{"class":"legend-node-td"},a);try{var d=h.createLegendsNode();e.set(d,"font-size",12*(b+1)+"px");g.place(d,a)}catch(c){console.error(c)}},_fold:function(h,b,d){"none"===e.get(d,"display")?(e.set(d,"display","table"),a.set(b,"src",this.layerListWidget.folderUrl+"images/v.png"),h=!1):(e.set(d,"display","none"),a.set(b,"src",isRTL?this.layerListWidget.folderUrl+
"images/v_left.png":this.layerListWidget.folderUrl+"images/v_right.png"),h=!0);return h},_onCkSelectNodeClick:function(h,a,b){a.checked?h.setTopLayerVisible(!0):h.setTopLayerVisible(!1);b.stopPropagation()},_onPopupMenuClick:function(h,a,b,d){this._changeSelectedLayerRow(b);a&&"opened"===a.state?a.closeDropMenu():(this._hideCurrentPopupMenu(),a&&(this.currentPopupMenu=a,a.openDropMenu()));d.stopPropagation()},_hideCurrentPopupMenu:function(){this.currentPopupMenu&&"opened"===this.currentPopupMenu.state&&
this.currentPopupMenu.closeDropMenu()},_onLayerNodeMouseover:function(a,d){b.add(a,"layer-row-mouseover");d&&b.add(d.btnNode,"jimu-icon-btn-selected")},_onLayerNodeMouseout:function(a,d){b.remove(a,"layer-row-mouseover");d&&b.remove(d.btnNode,"jimu-icon-btn-selected")},_onLayerListWidgetPaneClick:function(a){a&&a.closeDropMenu()},_onRowTrClick:function(a,b,d,e){this._changeSelectedLayerRow(d);b=this._fold(a,b,e);a.isLeaf()&&!b&&(e=k(".legends-div",e)[0],b=k(".legends-loading-img",e)[0],e&&b&&a.drawLegends(e,
this.layerListWidget.appConfig.portalUrl))},_changeSelectedLayerRow:function(a){this._currentSelectedLayerRowNode&&this._currentSelectedLayerRowNode===a||(this._currentSelectedLayerRowNode&&b.remove(this._currentSelectedLayerRowNode,"jimu-widget-row-selected"),b.add(a,"jimu-widget-row-selected"),this._currentSelectedLayerRowNode=a)},_onPopupMenuItemClick:function(a,b,d,c){c={itemKey:d.key,extraData:c,layerListWidget:this.layerListWidget,layerListView:this};"transparency"===d.key?"none"===e.get(b.transparencyDiv,
"display")?b.showTransNode(a.getOpacity()):b.hideTransNode():(a=b.popupMenuInfo.onPopupMenuClick(c),a.closeMenu&&b.closeDropMenu())},_exchangeLayerTrNode:function(a,b){var d=k("tr[layerTrNodeId\x3d'"+a+"']",this.layerListTable)[0],e=k("tr[layerTrNodeId\x3d'"+b+"']",this.layerListTable)[0],c=k("tr[layerContentTrNodeId\x3d'"+b+"']",this.layerListTable)[0];this.layerListTable.removeChild(e);this.layerListTable.insertBefore(e,d);this.layerListTable.removeChild(c);this.layerListTable.insertBefore(c,d)},
moveUpLayer:function(a){var b=this.operLayerInfos.moveUpLayer(a);b&&this._exchangeLayerTrNode(b,a)},moveDownLayer:function(a){var b=this.operLayerInfos.moveDownLayer(a);b&&this._exchangeLayerTrNode(a,b)}})})},"widgets/LayerList/PopupMenu":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/query dojo/Deferred jimu/dijit/DropMenu jimu/dijit/LoadingIndicator dijit/_TemplatedMixin dijit/form/HorizontalSlider dijit/form/HorizontalRuleLabels dojo/text!./PopupMenu.html dojo/dom-style ./NlsStrings ./PopupMenuInfo".split(" "),
function(s,n,c,f,g,l,k,r,t,m,q,a,b,e,d){return s([k,t],{templateString:a,popupMenuInfo:null,loading:null,_deniedItems:null,_deniedItemsFromConfig:null,_layerInfo:null,constructor:function(){this.nls=e.value},postCreate:function(){this.inherited(arguments);this._initDeniedItems();this.loading=new r({hidden:!0});this.loading.placeAt(this.popupMenuNode)},_initDeniedItems:function(){var a=[],b={ZoomTo:"zoomto",Transparency:"transparency",EnableOrDisablePopup:"controlPopup",MoveupOrMovedown:"moveup movedown",
OpenAttributeTable:"table",DescriptionOrShowItemDetailsOrDownload:"url"};this._deniedItems=[];this._deniedItemsFromConfig=[];for(var d in this._config.contextMenu)this._config.contextMenu.hasOwnProperty(d)&&("function"!==typeof this._config.contextMenu[d]&&!1===this._config.contextMenu[d])&&(a=a.concat(b[d].split(" ")));n.forEach(a,f.hitch(this,function(a){this._deniedItemsFromConfig.push({key:a,denyType:"hidden"})}))},_getDropMenuPosition:function(){return{top:"28px",right:"4px",zIndex:1}},_getTransNodePosition:function(){return{top:"28px",
left:-1*c.getStyle(this.transparencyDiv,"width")+"px"}},_onBtnClick:function(){},_refresh:function(){this._denyItems();this._changeItemsUI()},_denyItems:function(){var a=g("[class~\x3d'menu-item-identification']",this.dropMenuNode);a.forEach(function(a){c.removeClass(a,"menu-item-dissable");c.removeClass(a,"menu-item-hidden")},this);c.removeClass(this.dropMenuNode,"no-border");n.forEach(this._deniedItems,function(a){var b=g("div[itemId\x3d'"+a.key+"']",this.dropMenuNode)[0];b&&("disable"===a.denyType?
(c.addClass(b,"menu-item-dissable"),"url"===a.key&&g(".menu-item-description",b).forEach(function(a){c.setAttr(a,"href","#");c.removeAttr(a,"target")})):c.addClass(b,"menu-item-hidden"))},this);for(var b=-1,d=0;d<a.length;d++)c.hasClass(a[d],"menu-item-line")&&(-1===b||c.hasClass(a[b],"menu-item-line"))&&c.addClass(a[d],"menu-item-hidden"),c.hasClass(a[d],"menu-item-hidden")||(b=d);a=n.filter(a,function(a){return!c.hasClass(a,"menu-item-hidden")});0===a.length?c.addClass(this.dropMenuNode,"no-border"):
c.hasClass(a[a.length-1],"menu-item-line")&&c.addClass(a[a.length-1],"menu-item-hidden")},_changeItemsUI:function(){var a=g("[itemid\x3dcontrolPopup]",this.dropMenuNode)[0];a&&this._layerInfo.controlPopupInfo&&(this._layerInfo.controlPopupInfo.enablePopup?c.setAttr(a,"innerHTML",this.nls.removePopup):c.setAttr(a,"innerHTML",this.nls.enablePopup))},selectItem:function(a,b){for(var d=!1,e=1;e<this._deniedItems.length;e++)if(this._deniedItems[e].key===a.key){d=!0;break}d||this.emit("onMenuClick",a);
b.stopPropagation(b)},openDropMenu:function(){var a=f.hitch(this,this.inherited,arguments),b=new l;this.loading.show();this.dropMenuNode?b.resolve(this.popupMenuInfo):d.create(this._layerInfo,this.layerListWidget).then(f.hitch(this,function(a){this.items=a.getDisplayItems();this.popupMenuInfo=a;this._createDropMenuNode();b.resolve(this.popupMenuInfo)}));b.then(f.hitch(this,function(){this.popupMenuInfo.getDeniedItems().then(f.hitch(this,function(b){this._deniedItems=this._deniedItemsFromConfig.concat(b);
this._refresh();a(arguments);this.loading.hide()}),f.hitch(this,function(){this.loading.hide()}))}),f.hitch(this,function(){this.loading.hide()}))},closeDropMenu:function(){this.inherited(arguments);this.hideTransNode()},_onTransparencyDivClick:function(a){a.stopPropagation()},showTransNode:function(a){this.transHorizSlider||(this._createTransparencyWidget(),this.transHorizSlider.set("value",1-a));b.set(this.transparencyDiv,"top",this._getTransNodePosition().top);isRTL?b.set(this.transparencyDiv,
"right",this._getTransNodePosition().left):b.set(this.transparencyDiv,"left",this._getTransNodePosition().left);b.set(this.transparencyDiv,"display","block")},hideTransNode:function(){b.set(this.transparencyDiv,"display","none")},_createTransparencyWidget:function(){this.transHorizSlider=new m({minimum:0,maximum:1,intermediateChanges:!0},this.transparencyBody);this.own(this.transHorizSlider.on("change",f.hitch(this,function(a){this.emit("onMenuClick",{key:"transparencyChanged"},{newTransValue:a})})));
new q({container:"bottomDecoration"},this.transparencyRule)}})})},"jimu/dijit/DropMenu":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Evented ../utils".split(" "),function(s,n,c,f,g,l,k,r){return s([n,k],{baseClass:"jimu-dropmenu",declaredClass:"jimu.dijit.DropMenu",constructor:function(){this.state="closed"},postCreate:function(){this.btnNode=g.create("div",{"class":"jimu-icon-btn"},this.domNode);this.own(l(this.btnNode,"click",
c.hitch(this,this._onBtnClick)));this.box||(this.box=this.domNode.parentNode);this.own(l(this.box,"click",c.hitch(this,function(){this.dropMenuNode&&this.closeDropMenu()})))},_onBtnClick:function(c){c.stopPropagation();this.dropMenuNode||this._createDropMenuNode();"closed"===this.state?this.openDropMenu():this.closeDropMenu()},_createDropMenuNode:function(){this.dropMenuNode=g.create("div",{"class":"drop-menu",style:{display:"none"}},this.domNode);this.items||(this.items=[]);f.forEach(this.items,
function(f){var m;f.key&&"separator"===f.key?g.create("hr",{"class":"menu-item-identification menu-item-line",itemId:f.key},this.dropMenuNode):f.key&&(m=g.create("div",{"class":"menu-item-identification menu-item",itemId:f.key,innerHTML:f.label},this.dropMenuNode),this.own(l(m,"click",c.hitch(this,function(c){this.selectItem(f,c)}))))},this)},_getDropMenuPosition:function(){var c=g.getContentBox(this.box),f=g.getMarginBox(this.domNode),k=g.getMarginBox(this.btnNode),a=g.getMarginBox(this.dropMenuNode),
b={},e,d;b.l=f.l;b.t=f.t+k.h;b.t+a.h>c.h&&(d=f.t,e=c.h-f.t-k.h,e=Math.max(d,e),e===d&&(b.t=0-a.h));b.l+a.w>c.w&&(a=f.l,c=c.w-f.l-k.w,e=Math.max(a,c),e===a&&(b.l="",b.r=0));b.left=b.l;b.top=b.t;b.right=b.r;return b},selectItem:function(c){this.closeDropMenu();this.emit("onMenuClick",c)},openDropMenu:function(){this.state="opened";g.setStyle(this.dropMenuNode,"display","");g.setStyle(this.dropMenuNode,r.getPositionStyle(this._getDropMenuPosition()));this.emit("onOpenMenu")},closeDropMenu:function(){this.state=
"closed";g.setStyle(this.dropMenuNode,"display","none");this.emit("onCloseMenu")}})})},"widgets/LayerList/NlsStrings":function(){define([],function(){return{value:null}})},"widgets/LayerList/PopupMenuInfo":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dojo/promise/all jimu/portalUrlUtils jimu/WidgetManager esri/lang esri/graphicsUtils ./NlsStrings".split(" "),function(s,n,c,f,g,l,k,r,t,m){var q=s([],{_candidateMenuItems:null,_displayItems:null,_layerInfo:null,
_layerType:null,_appConfig:null,constructor:function(a,b,c,d){this.nls=m.value;this._layerInfo=a;this._layerType=c;this.layerListWidget=d;this._initCandidateMenuItems();this._initDisplayItems(b)},_getATagLabel:function(){var a,b;(a=this._layerInfo._isItemLayer&&this._layerInfo._isItemLayer())?(a=l.getItemDetailsPageUrl(l.getStandardPortalUrl(this.layerListWidget.appConfig.portalUrl),a),b=this.nls.itemShowItemDetails):this._layerInfo.layerObject&&this._layerInfo.layerObject.url&&("CSVLayer"===this._layerType||
"KMLLayer"===this._layerType)?(a=this._layerInfo.layerObject.url,b=this.nls.itemDownload):(a=this._layerInfo.layerObject&&this._layerInfo.layerObject.url?this._layerInfo.layerObject.url:"",b=this.nls.itemDesc);return'\x3ca class\x3d"menu-item-description" target\x3d"_blank" href\x3d"'+a+'"\x3e'+b+"\x3c/a\x3e"},_initCandidateMenuItems:function(){this._candidateMenuItems=[{key:"separator",label:""},{key:"empty",label:this.nls.empty},{key:"zoomto",label:this.nls.itemZoomTo},{key:"transparency",label:this.nls.itemTransparency},
{key:"moveup",label:this.nls.itemMoveUp},{key:"movedown",label:this.nls.itemMoveDown},{key:"table",label:this.nls.itemToAttributeTable},{key:"controlPopup",label:this.nls.removePopup},{key:"url",label:this._getATagLabel()}]},_initDisplayItems:function(a){this._displayItems=[];n.forEach(a,function(a){n.forEach(this._candidateMenuItems,function(e){a.key===e.key&&(this._displayItems.push(c.clone(e)),a.onClick&&(this._displayItem.onClick=a.onClick))},this)},this)},getDeniedItems:function(){var a=new f,
b=[];this._layerInfo.isFirst&&b.push({key:"moveup",denyType:"disable"});this._layerInfo.isLast&&b.push({key:"movedown",denyType:"disable"});(!this._layerInfo.layerObject||!this._layerInfo.layerObject.url)&&b.push({key:"url",denyType:"disable"});var e=this._layerInfo.loadInfoTemplate(),d=this._layerInfo.getSupportTableInfo();g({infoTemplate:e,supportTableInfo:d}).then(c.hitch(this,function(d){d.infoTemplate||b.push({key:"controlPopup",denyType:"disable"});d=d.supportTableInfo;var c=this.layerListWidget.appConfig.getConfigElementsByName("AttributeTable")[0];
!c||!c.visible?b.push({key:"table",denyType:"hidden"}):(!d.isSupportedLayer||!d.isSupportQuery||d.otherReasonCanNotSupport)&&b.push({key:"table",denyType:"disable"});a.resolve(b)}),function(){a.resolve(b)});return a},getDisplayItems:function(){return this._displayItems},onPopupMenuClick:function(a){var b={closeMenu:!0};switch(a.itemKey){case "zoomto":this._onItemZoomToClick(a);break;case "moveup":this._onMoveUpItemClick(a);break;case "movedown":this._onMoveDownItemClick(a);break;case "table":this._onTableItemClick(a);
break;case "transparencyChanged":this._onTransparencyChanged(a);b.closeMenu=!1;break;case "controlPopup":this._onControlPopup()}return b},_onItemZoomToClick:function(a){this._layerInfo.getExtent().then(c.hitch(this,function(a){var e=null;a=a&&0<a.length&&a[0];this._isValidExtent(a)&&(e=a);e?this._layerInfo.map.setExtent(e):this._layerInfo.map.graphicsLayerIds.indexOf(this._layerInfo.id)&&this._layerInfo.getLayerObject().then(c.hitch(this,function(a){if(a.graphics&&0<a.graphics.length){try{e=t.graphicsExtent(a.graphics)}catch(b){console.error(b)}e&&
this._layerInfo.map.setExtent(e)}}))}))},_isValidExtent:function(a){var b=!1;r.isDefined(a)&&r.isDefined(a.xmin)&&(isFinite(a.xmin)&&r.isDefined(a.ymin)&&isFinite(a.ymin)&&r.isDefined(a.xmax)&&isFinite(a.xmax)&&r.isDefined(a.ymax)&&isFinite(a.ymax))&&(b=!0);return b},_onMoveUpItemClick:function(a){this._layerInfo.isFirst||a.layerListView.moveUpLayer(this._layerInfo.id)},_onMoveDownItemClick:function(a){this._layerInfo.isLast||a.layerListView.moveDownLayer(this._layerInfo.id)},_onTableItemClick:function(a){this._layerInfo.getSupportTableInfo().then(c.hitch(this,
function(b){var e,d;b.isSupportedLayer&&b.isSupportQuery&&(b=k.getInstance(),e=b.getWidgetsByName("AttributeTable"),(d=0<e.length)?("closed"===e[0].state&&b.openWidget(e[0].id),a.layerListWidget.publishData({target:"AttributeTable",layer:this._layerInfo})):(b=this.layerListWidget.appConfig.getConfigElementsByName("AttributeTable")[0],a.layerListWidget.openWidgetById(b.id).then(c.hitch(this,function(){a.layerListWidget.publishData({target:"AttributeTable",layer:this._layerInfo})}))))}))},_onTransparencyChanged:function(a){this._layerInfo.setOpacity(1-
a.extraData.newTransValue)},_onControlPopup:function(a){this._layerInfo.controlPopupInfo.enablePopup?this._layerInfo.disablePopup():this._layerInfo.enablePopup();this._layerInfo.map.infoWindow.hide()}});q.create=function(a,b){var e=new f,d=a.isRootLayer(),g={RootLayer:[{key:"zoomto"},{key:"transparency"},{key:"separator"},{key:"moveup"},{key:"movedown"},{key:"separator"},{key:"url"}],RootLayerAndFeatureLayer:[{key:"zoomto"},{key:"transparency"},{key:"separator"},{key:"controlPopup"},{key:"separator"},
{key:"moveup"},{key:"movedown"},{key:"separator"},{key:"table"},{key:"separator"},{key:"url"}],FeatureLayer:[{key:"controlPopup"},{key:"separator"},{key:"table"},{key:"separator"},{key:"url"}],GroupLayer:[{key:"url"}],Table:[{key:"table"},{key:"separator"},{key:"url"}],"default":[{key:"url",onClick:null}]};a.getLayerType().then(c.hitch(this,function(c){var f="",f=d&&("FeatureLayer"===c||"CSVLayer"===c||"ArcGISImageServiceLayer"===c||"StreamLayer"===c||"ArcGISImageServiceVectorLayer"===c)?"RootLayerAndFeatureLayer":
d?"RootLayer":"FeatureLayer"===c||"CSVLayer"===c?"FeatureLayer":"GroupLayer"===c?"GroupLayer":"Table"===c?"Table":"default";e.resolve(new q(a,g[f],c,b))}),c.hitch(this,function(){e.resolve(new q(a,[{key:"empty"}]))}));return e};return q})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings","dojo/text!./config.json"],function(){})},"url:widgets/LayerList/PopupMenu.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"popup-menu-transparency-body" data-dojo-attach-point\x3d"transparencyDiv" data-dojo-attach-event\x3d"onclick:_onTransparencyDivClick" \x3e\r\n    \x3cdiv class\x3d"label"\x3e\r\n      \x3cdiv class\x3d"label-left jimu-float-leading"\x3e${nls.itemOpaque}\x3c/div\x3e\r\n      \x3cdiv class\x3d"label-right jimu-float-trailing"\x3e${nls.itemTransparent}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"transparencyBody"\x3e \r\n      \x3col data-dojo-attach-point\x3d"transparencyRule" class\x3d"transparency-rule"\x3e \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3cdiv\x3e\r\n',
"url:widgets/LayerList/LayerListView.html":'\r\n\r\n\x3ctable class\x3d"layer-list-table"\x3e\r\n  \x3ctbody class\x3d"layers-list-body" data-dojo-attach-point\x3d"layerListTable"\x3e\x3c/tbody\x3e\r\n  \x3ctbody class\x3d"layers-list-body" data-dojo-attach-point\x3d"tableListTable"\x3e\x3c/tbody\x3e       \r\n\x3c/table\x3e\r\n',"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"layers-section" data-dojo-attach-point\x3d"layersSection"\x3e\r\n    \x3cdiv class\x3d" layer-list-title"\x3e${nls.titleLayers}\x3c/div\x3e\r\n    \x3cdiv class\x3d"layer-list-body" data-dojo-attach-point\x3d"layerListBody"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/LayerList/css/style.css":".jimu-widget-layerList{position: relative;}.jimu-widget-layerList .jimu-hr{margin-top: 15px;}.jimu-widget-layerList .layers-section{margin-top: 0px;}.jimu-widget-layerList .layers-section .layers-list{width: 100%;}.jimu-widget-layerList .layers-section .layer-list-title{height: 16px; font-size: 14px; color: #86909c; margin-top: 14px;}.jimu-widget-layerList .layer-list-body {}.jimu-widget-layerList .layer-list-table{width: 100%; border-spacing: 0px;}.jimu-widget-layerList .layers-list-body{border: 0px solid #999;}.jimu-widget-layerList .jimu-widget-row{}.jimu-widget-layerList .layer-row{background-color: #ffffff; height: 40px;}.jimu-widget-layerList .layer-row-mouseover{background-color: #e3ecf2;}.jimu-widget-layerList .jimu-widget-row-selected{background-color: #d9dde0;;}.jimu-widget-layerList .jimu-widget-row-active{background-color: #009cff;}.jimu-widget-layerList .jimu-widget-row-selected .col-layer-label{color: #333;}.jimu-widget-layerList .jimu-widget-row-active .col-layer-label{color: #fff;}.jimu-widget-layerList .col{border: 0px solid; border-bottom: 0px solid #ffffff;}.jimu-widget-layerList .col1{}.jimu-widget-layerList .col2{width: auto; word-break: break-word; cursor: pointer;}.jimu-widget-layerList .col3{width: 24px;}.jimu-widget-layerList .begin-blank-div{width: 12px; height: 2px;}.jimu-widget-layerList .col-showLegend{width: 17px; text-align: center;}.jimu-widget-layerList .showLegend-div{width: 13px; height: 13px; cursor: pointer; font-size: 2px;}.jimu-widget-layerList .showLegend-image{margin-top: 4px; font-size: 3px; padding-left: 3px;}.jimu-rtl .jimu-widget-layerList .showLegend-image{padding-left: 0; padding-right: 3px;}.jimu-widget-layerList .layers-list-imageShowLegend-down{-moz-transform: scale(1) rotate(270deg) translateX(0px) translateY(0px) skewX(0deg) skewY(0deg); -webkit-transform: scale(1) rotate(270deg) translateX(0px) translateY(0px) skewX(0deg) skewY(0deg); -o-transform: scale(1) rotate(270deg) translateX(0px) translateY(0px) skewX(0deg) skewY(0deg); -ms-transform: scale(1) rotate(270deg) translateX(0px) translateY(0px) skewX(0deg) skewY(0deg); transform: scale(1) rotate(270deg) translateX(0px) translateY(0px) skewX(0deg) skewY(0deg);}.jimu-widget-layerList .layers-list-imageShowLegend-down-div{background-color: #d9dde0;}.jimu-widget-layerList .noLegend-div{width: 33px; text-align: right; display: none;}.jimu-widget-layerList .noLegend-image{display: block; margin: 0 auto;}.jimu-widget-layerList .col-blank{width:17px;}.jimu-widget-layerList .col-select{width: 17px;}.jimu-widget-layerList .col-reserve-blank{width: 25px;}.jimu-widget-layerList .col-content{color: #686868; font-size: 12px;}.jimu-widget-layerList .div-select{position: relative; font-size: 2px;}.jimu-widget-layerList .div-select .checkbox{cursor: auto;}.jimu-widget-layerList .div-content{position: relative; color: #686868; font-size: 12px; border: 0px solid;}.jimu-widget-layerList .col-popupMenu{width: 17px; text-align: center;}.jimu-widget-layerList .col-select .jimu-selection-box{margin-top: 5px;}.jimu-widget-layerList .layers-list-body .col-layer-label{color: #686868;}.jimu-widget-layerList .layer-sub-node{display: none; width:100%; border-spacing: 0px;}.jimu-widget-layerList .legend-node-td{}.jimu-widget-layerList .legend-div{overflow: hidden; font-size: 11px;}.jimu-widget-layerList .legend-symbol{}.jimu-widget-layerList .legend-label{margin-top: 17px; color: #686868; font-size: 11px;}.jimu-widget-layerList .esriLegendService {padding-bottom: 0;}.jimu-widget-layerList .esriLegendLayerLabel {padding-top: 0; height: 0; display: none;}.jimu-widget-layerList .esriLegendServiceLabel {display: none;}.jimu-widget-layerList .esriLegendLayer{font-size: 12px;}.jimu-widget-layerList .esriLegendMsg{display: none;}.jimu-widget-layerList .layers-list-popupMenu-div{position: relative; width: 16px; height: 40px; cursor: pointer; border-radius: 2px; float: right; padding-top: 14px;}.jimu-widget-layerList .layers-list-popupMenu-div .jimu-loading{width: 18px; margin-top: -11px; margin-left: -11px;}.jimu-rtl .jimu-widget-layerList .layers-list-popupMenu-div .jimu-loading{margin-right: -11px;}.jimu-widget-layerList .layers-list-popupMenu-div-selected{width: 13px; height: 13px; background-color: #ffffff; border-radius: 2px;}.jimu-widget-layerList .layers-list-popupMenu-image{position: absolute; top: 5px; left: 3px;}.jimu-widget-layerList .popup-menu-transparency-body {position: absolute; background-color: #d9dde0; outline-color:#ffffff; outline-style:solid; outline-width:1px; width:184px; height:50px; padding-left: 2%; padding-right: 2%; color: #686868; z-index: 2; font-size: 12px; display: none;}.jimu-widget-layerList .popup-menu-transparency-body .transparency-rule{}.jimu-widget-layerList .popup-menu-transparency-body .label {overflow: hidden; margin-top: 2px; margin-bottom: 1px;}.jimu-widget-layerList .jimu-dropmenu .jimu-icon-btn{width: 13px; height: 13px; min-height: 13px; min-width: 13px; border-radius: 2px;}.jimu-widget-layerList .jimu-dropmenu .jimu-icon-btn-selected{background-color: #ffffff; border: 1px solid #ffffff;}.jimu-widget-layerList .jimu-dropmenu .drop-menu{outline-color:#ffffff; outline-style:solid; outline-width:1px; overflow:auto; color: #686868; font-size: 12px; z-index: 2; min-width: 119px; right: 0px;}.jimu-widget-layerList .jimu-dropmenu .drop-menu.no-border{outline-style: none;}.jimu-rtl .jimu-widget-layerList .jimu-dropmenu .drop-menu{left: 0px;}.jimu-widget-layerList .jimu-dropmenu .menu-item{line-height: 25px; white-space: nowrap;}.jimu-widget-layerList .jimu-dropmenu .menu-item-dissable{color:#c1c1c1;}.jimu-widget-layerList .jimu-dropmenu .menu-item-hidden{display: none;}.jimu-widget-layerList .legends-loading-img{width: 45px;}.jimu-widget-layerList .jimu-dropmenu .menu-item .menu-item-description{text-decoration: none; color: inherit; display: block;}",
"url:widgets/LayerList/config.json":'{\r\n  "showLegend": true,\r\n  "contextMenu": {\r\n\t"ZoomTo": true,\r\n\t"Transparency": true,\r\n\t"EnableOrDisablePopup": true,\r\n\t"MoveupOrMovedown": true,\r\n\t"OpenAttributeTable": true,\r\n\t"DescriptionOrShowItemDetailsOrDownload": true\r\n  }\r\n}\r\n',"*now":function(s){s(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("jimu/BaseWidget dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom dojo/on ./LayerListView ./PopupMenu ./NlsStrings jimu/LayerInfos/LayerInfos".split(" "),function(s,n,c,f,g,l,k,r,t,m,q){return n([s],{baseClass:"jimu-widget-layerList",name:"layerList",layerListView:null,operLayerInfos:null,startup:function(){this.inherited(arguments);m.value=this.nls;if(this.map.itemId)q.getInstance(this.map,this.map.itemInfo).then(c.hitch(this,function(a){this.operLayerInfos=
a;this.showLayers();this.bindEvents();l.setSelectable(this.layersSection,!1)}));else{var a=this._obtainMapLayers();q.getInstance(this.map,a).then(c.hitch(this,function(a){this.operLayerInfos=a;this.showLayers();this.bindEvents();l.setSelectable(this.layersSection,!1)}))}},destroy:function(){this._clearLayers();this.inherited(arguments)},_obtainMapLayers:function(){var a=[],b=[],c={itemData:{baseMap:{baseMapLayers:[]},operationalLayers:[]}};f.forEach(this.map.graphicsLayerIds,function(a){a=this.map.getLayer(a);
a.isOperationalLayer&&b.push({layerObject:a,title:a.label||a.title||a.name||a.id||" ",id:a.id||" "})},this);f.forEach(this.map.layerIds,function(c){c=this.map.getLayer(c);c.isOperationalLayer?b.push({layerObject:c,title:c.label||c.title||c.name||c.id||" ",id:c.id||" "}):a.push({layerObject:c,id:c.id||" "})},this);c.itemData.baseMap.baseMapLayers=a;c.itemData.operationalLayers=b;return c},_layerFilter:function(a,b,c){a=this.map.getLayer(a);a.isOperationalLayer?c.push({layerObject:a,title:a.label||
a.title||a.name||a.id||" ",id:a.id||" "}):b.push({layerObject:a,id:a.id||" "})},showLayers:function(){this.layerListView=(new r({operLayerInfos:this.operLayerInfos,layerListWidget:this,config:this.config})).placeAt(this.layerListBody)},_createPopupMenu:function(){this.popupMenu=new t({layerListWidget:this});g.place(this.popupMenu.domNode,this.domNode)},_clearLayers:function(){this.layerListView&&this.layerListView.destroyRecursive&&this.layerListView.destroyRecursive()},flag:!0,_refresh:function(){this._clearLayers();
this.showLayers()},bindEvents:function(){this.own(k(this.operLayerInfos,"layerInfosChanged",c.hitch(this,this._onLayerInfosChanged)));this.own(k(this.operLayerInfos,"tableInfosChanged",c.hitch(this,this._onLayerInfosChanged)));this.own(k(this.operLayerInfos,"updated",c.hitch(this,this._onLayerInfosObjUpdated)))},_onLayerInfosChanged:function(){this._refresh()},_onLayerInfosObjUpdated:function(){this._refresh()},onAppConfigChanged:function(a,b,c){this.appConfig=a}})});